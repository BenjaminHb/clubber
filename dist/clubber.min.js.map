{"version":3,"file":"dist/clubber.min.js","sources":["dist/clubber.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","id","loaded","call","m","c","p","Clubber","config","this","audioCtx","window","AudioContext","webkitAudioContext","analyser","createAnalyser","fftSize","size","Object","defineProperty","get","smoothingTimeConstant","set","value","bufferLength","frequencyBinCount","mute","connect","destination","data","Uint8Array","keys","noteSums","Uint16Array","notes","weights","freq2midi","freq","r","lala","notetest","eval","ref","hauteur","octave","alteration","supinf","compteur","hautnb","noteton","ref1","ref2","temp","flag","nmidi","tableau","Array","Math","floor","abs","min","lastkey","idx","i","inc","sampleRate","key","holeIndex","prototype","listen","obj","source","disconnect","AudioNode","el","createMediaElementSource","smoothFn","v","o","f","snap","parseConfig","defaults","from","to","low","high","smooth","adapt","step","k","Float32Array","scope","band","avg","output","offset","time","s","arr","val","vsum","nsum","cnt","vn","av","height","_height","ah","al","max","undefined","t","tmax","rect","xsum","psum","y","x","width","area","isArray","update","cache","self","getByteFrequencyData","length","lastIndex","lastVal","w","di","dv","j","parseFloat","performance","now"],"mappings":"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"}