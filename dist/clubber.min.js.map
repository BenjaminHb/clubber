{"version":3,"file":"dist/clubber.min.js","sources":["dist/clubber.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","id","loaded","call","m","c","p","Clubber","config","this","audioCtx","window","AudioContext","webkitAudioContext","analyser","createAnalyser","fftSize","size","Object","defineProperty","get","smoothingTimeConstant","set","value","bufferLength","frequencyBinCount","mute","connect","destination","data","Uint8Array","keys","noteSums","Uint16Array","notes","weights","freq2midi","freq","r","lala","notetest","eval","ref","hauteur","octave","alteration","supinf","compteur","hautnb","noteton","ref1","ref2","temp","flag","nmidi","tableau","Array","Math","floor","abs","min","lastkey","idx","i","inc","sampleRate","key","holeIndex","prototype","listen","obj","source","disconnect","AudioNode","el","createMediaElementSource","band","scope","parseConfig","defaults","from","to","low","high","smooth","adapt","snap","step","template","k","t","length","push","parseInt","rect","Float32Array","output","offset","fill","arr","isArray","fromArray","arguments","time","s","val","midx","mval","vsum","nsum","xsum","psum","osum","cnt","V","v","x","avg","smoothFn","o","f","width","av","height","_height","area","ah","al","max","of","ot","undefined","tmax","forEach","update","cache","self","getByteFrequencyData","lastIndex","lastVal","w","di","dv","j","parseFloat","performance","now","descriptions"],"mappings":"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"}