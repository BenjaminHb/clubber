{"version":3,"file":"dist/clubber.min.js","sources":["dist/clubber.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","id","loaded","call","m","c","p","Clubber","config","this","audioCtx","window","AudioContext","webkitAudioContext","analyser","createAnalyser","fftSize","size","smoothingTimeConstant","bufferLength","frequencyBinCount","thresholdFactor","mute","connect","destination","data","Uint8Array","keys","notes","Uint16Array","thresholds","weights","freq2midi","freq","r","lala","notetest","eval","ref","hauteur","octave","alteration","supinf","compteur","hautnb","noteton","ref1","ref2","temp","flag","nmidi","tableau","Array","Math","floor","abs","lastkey","idx","i","inc","sampleRate","key","count","prototype","listen","el","source","disconnect","createMediaElementSource","band","defaults","from","to","snap","smooth","step","k","obj","avg","scope","Float32Array","output","offset","time","s","arr","val","vsum","nsum","cnt","v","vn","max","o","f","min","undefined","t","tmax","set","isArray","update","cache","self","getByteFrequencyData","length","tf","parseFloat","performance","now"],"mappings":"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"}