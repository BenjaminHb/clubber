{"version":3,"file":"dist/clubber.min.js","sources":["dist/clubber.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","id","loaded","call","m","c","p","Clubber","config","this","context","window","AudioContext","webkitAudioContext","analyser","createAnalyser","fftSize","size","Object","defineProperty","get","smoothingTimeConstant","set","value","bufferLength","frequencyBinCount","mute","connect","destination","data","Uint8Array","keys","noteSums","Uint16Array","notes","weights","maxBin","lastkey","idx","i","inc","sampleRate","freq","key","Math","floor","log","holeIndex","prototype","listen","obj","source","disconnect","AudioNode","el","createMediaElementSource","band","scope","parseConfig","defaults","from","to","low","high","smooth","adapt","snap","step","template","k","t","length","push","parseInt","rect","Float32Array","output","offset","fill","arr","Array","isArray","fromArray","arguments","time","s","val","midx","mval","vsum","nsum","xsum","psum","osum","cnt","V","v","min","x","avg","smoothFn","o","f","undefined","abs","width","av","height","_height","area","ah","al","max","of","ot","tmax","forEach","update","cache","self","getByteFrequencyData","lastIndex","lastVal","w","di","dv","j","parseFloat","performance","now","descriptions"],"mappings":"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"}