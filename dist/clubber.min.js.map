{"version":3,"file":"dist/clubber.min.js","sources":["dist/clubber.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","id","loaded","call","m","c","p","Clubber","config","this","audioCtx","window","AudioContext","webkitAudioContext","analyser","createAnalyser","fftSize","size","Object","defineProperty","get","smoothingTimeConstant","set","value","bufferLength","frequencyBinCount","thresholdFactor","mute","connect","destination","data","Uint8Array","keys","notes","Uint16Array","thresholds","weights","freq2midi","freq","r","lala","notetest","eval","ref","hauteur","octave","alteration","supinf","compteur","hautnb","noteton","ref1","ref2","temp","flag","nmidi","tableau","Array","Math","floor","abs","min","lastkey","idx","i","inc","sampleRate","key","prototype","listen","obj","source","disconnect","AudioNode","el","createMediaElementSource","band","defaults","from","to","snap","smooth","step","k","avg","count","scope","Float32Array","output","offset","time","s","arr","val","vsum","nsum","cnt","v","vn","max","o","f","undefined","t","tmax","isArray","update","cache","self","getByteFrequencyData","length","tf","parseFloat","performance","now"],"mappings":"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"}